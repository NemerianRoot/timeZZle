@page "/Puzzle"
@rendermode InteractiveServer

@if (this.CurrentClock is null)
{
    <p>Loading ...</p> 
}
else
{
    <button class="btn btn-outline-secondary" @onclick="this.Reset">
        <i class="bi bi-arrow-clockwise"></i> Reset
    </button>
    
    <div class="circle">
        @for (var i = 0; i < this.CurrentClock!.Size; i++)
        {
            var radius = 10.0d - (this.CurrentClock.Size > 8 ? 1 : 0); 
            var angle = 360.0 * i / this.CurrentClock.Size;
            var style = $"transform: rotate({angle}deg) translate(0, -{radius}rem) rotate({-angle}deg);";
            var box = this.CurrentClock.Boxes.First(o => o.Position == i);
            <div class="cell @(this.GetClass(box))" style="@style" @onclick="() => this.Select(box)">
                @box.Value
            </div>
        }
    </div>
}
